<span data-ttu-id="f6363-101">Blazor-Server-Apps befinden sich im Arbeitsspeicher des Servers.</span><span class="sxs-lookup"><span data-stu-id="f6363-101">Blazor server apps live in server memory.</span></span> <span data-ttu-id="f6363-102">Das bedeutet, dass innerhalb desselben Prozesses mehrere Apps gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="f6363-102">That means that there are multiple apps hosted within the same process.</span></span> <span data-ttu-id="f6363-103">Für jede App-Sitzung richtet Blazor eine Verbindung mit seinem eigenen Containerbereich für Abhängigkeitsinjektionen ein.</span><span class="sxs-lookup"><span data-stu-id="f6363-103">For each app session, Blazor starts a circuit with its own DI container scope.</span></span> <span data-ttu-id="f6363-104">Dies bedeutet, dass bereichsbezogene Dienste pro Blazor-Sitzung eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="f6363-104">That means that scoped services are unique per Blazor session.</span></span>

> [!WARNING]
> <span data-ttu-id="f6363-105">Es wird nicht empfohlen, dass Apps auf demselben Server sich einen Zustand mithilfe von Singletondiensten teilen, es sei denn, es wird mit äußerster Vorsicht vorgegangen, da dies zu Sicherheitsrisiken führen kann, wie z. B. verbindungsübergreifende Preisgabe des Benutzerzustands.</span><span class="sxs-lookup"><span data-stu-id="f6363-105">We don't recommend apps on the same server share state using singleton services unless extreme care is taken, as this can introduce security vulnerabilities, such as leaking user state across circuits.</span></span>

<span data-ttu-id="f6363-106">Sie können zustandsbehaftete Singletondienste in Blazor-Apps verwenden, sofern sie speziell dafür konzipiert sind.</span><span class="sxs-lookup"><span data-stu-id="f6363-106">You can use stateful singleton services in Blazor apps if they are specifically designed for it.</span></span> <span data-ttu-id="f6363-107">Beispielsweise ist es in Ordnung, einen Arbeitsspeichercache als Singleton zu verwenden, da ein Schlüssel für den Zugriff auf einen bestimmten Eintrag erforderlich ist, vorausgesetzt, Benutzer haben keine Kontrolle darüber, welche Cacheschlüssel verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="f6363-107">For example, it's ok to use a memory cache as a singleton because it requires a key to access a given entry, assuming users don't have control of what cache keys are used.</span></span>

<span data-ttu-id="f6363-108">**Außerdem dürfen Sie wiederum aus Sicherheitsgründen <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor> nicht in Blazor-Apps verwenden.**</span><span class="sxs-lookup"><span data-stu-id="f6363-108">**Additionally, again for security reasons, you must not use <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor> within Blazor apps.**</span></span> <span data-ttu-id="f6363-109">Blazor-Apps werden außerhalb des Kontexts der ASP.NET Core-Pipeline ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="f6363-109">Blazor apps run outside of the context of the ASP.NET Core pipeline.</span></span> <span data-ttu-id="f6363-110">Die Verfügbarkeit von <xref:Microsoft.AspNetCore.Http.HttpContext> in <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor> ist nicht sichergestellt, und es ist auch nicht gewährleistet, dass die Klasse den Kontext zum Starten der Blazor-App enthält.</span><span class="sxs-lookup"><span data-stu-id="f6363-110">The <xref:Microsoft.AspNetCore.Http.HttpContext> isn't guaranteed to be available within the <xref:Microsoft.AspNetCore.Http.IHttpContextAccessor>, nor is it guaranteed to be holding the context that started the Blazor app.</span></span>

<span data-ttu-id="f6363-111">Der empfohlene Weg der Übergabe des Anforderungszustands an die Blazor-Anwendung ist über Parameter an die Stammkomponente beim ersten Rendern der Anwendung:</span><span class="sxs-lookup"><span data-stu-id="f6363-111">The recommended way to pass request state to the Blazor app is through parameters to the root component in the initial rendering of the app:</span></span>

* <span data-ttu-id="f6363-112">Definieren Sie eine Klasse mit allen Daten, die Sie an die Blazor-App übergeben möchten.</span><span class="sxs-lookup"><span data-stu-id="f6363-112">Define a class with all the data you want to pass to the Blazor app.</span></span>
* <span data-ttu-id="f6363-113">Füllen Sie diese Daten auf der Razor-Seite mit den zu diesem Zeitpunkt verfügbaren <xref:Microsoft.AspNetCore.Http.HttpContext>.</span><span class="sxs-lookup"><span data-stu-id="f6363-113">Populate that data from the Razor page using the <xref:Microsoft.AspNetCore.Http.HttpContext> available at that time.</span></span>
* <span data-ttu-id="f6363-114">Übergeben Sie die Daten an die Blazor-App als Parameter an die Stammkomponente (App).</span><span class="sxs-lookup"><span data-stu-id="f6363-114">Pass the data to the Blazor app as a parameter to the root component (App).</span></span>
* <span data-ttu-id="f6363-115">Definieren Sie einen Parameter in der Stammkomponente, der die an die Anwendung zu übergebenden Daten enthält.</span><span class="sxs-lookup"><span data-stu-id="f6363-115">Define a parameter in the root component to hold the data being passed to the app.</span></span>
* <span data-ttu-id="f6363-116">Verwenden Sie die benutzerspezifischen Daten innerhalb der App. Alternativ dazu können Sie diese Daten in einen bereichsbezogenen Dienst innerhalb von <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitializedAsync%2A> kopieren, damit sie in der gesamten App verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="f6363-116">Use the user-specific data within the app; or alternatively, copy that data into a scoped service within <xref:Microsoft.AspNetCore.Components.ComponentBase.OnInitializedAsync%2A> so that it can be used across the app.</span></span>

<span data-ttu-id="f6363-117">Weitere Informationen und Beispielcode finden Sie unter <xref:blazor/security/server/additional-scenarios#pass-tokens-to-a-blazor-server-app>.</span><span class="sxs-lookup"><span data-stu-id="f6363-117">For more information and example code, see <xref:blazor/security/server/additional-scenarios#pass-tokens-to-a-blazor-server-app>.</span></span>
